# Go Order Service

–°–µ—Ä–≤–∏—Å –¥–ª—è –ø—Ä–∏—ë–º–∞ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–∫–∞–∑–æ–≤. –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∞ –Ω–∞ Go, Kafka –∏ PostgreSQL.  
–ó–∞–∫–∞–∑—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ Kafka Producer, –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è Consumer, —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ë–î –∏ –∫—ç—à–∏—Ä—É—é—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏.  
–î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω —á–µ—Ä–µ–∑ REST API –∏ –ø—Ä–æ—Å—Ç—É—é HTML-—Å—Ç—Ä–∞–Ω–∏—Ü—É.

---

## üöÄ –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π
- **Go** (net/http, gorilla/mux, kafka-go, sarama)
- **PostgreSQL** (—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤)
- **Kafka** (–æ—á–µ—Ä–µ–¥—å —Å–æ–æ–±—â–µ–Ω–∏–π)
- **Docker Compose** (–ø–æ–¥–Ω–∏–º–∞–µ—Ç –æ–∫—Ä—É–∂–µ–Ω–∏–µ: PostgreSQL, Kafka, Zookeeper)

---

## ‚öôÔ∏è –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞

### 1. –ü–æ–¥–Ω—è—Ç—å –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
```bash
docker compose up -d
```
–ë—É–¥—É—Ç –∑–∞–ø—É—â–µ–Ω—ã –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã:
PostgreSQL (`localhost:5432`)
Zookeeper (`localhost:2181`)
Kafka (`localhost:9092`)

### 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å–µ—Ä–≤–∏—Å
```bash
go run .
```
–í –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ:
–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ PostgreSQL
–ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
–ø–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ Kafka
–∑–∞–ø—É—Å–∫ HTTP —Å–µ—Ä–≤–µ—Ä–∞ (:8080)

### 3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–∫–∞–∑ –≤ Kafka
–≤ –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
```bash
go run ./cmd/producer
```
–õ–æ–≥ —Å–µ—Ä–≤–∏—Å–∞:
```sql
–ù–æ–≤—ã–π –∑–∞–∫–∞–∑ —Å–æ—Ö—Ä–∞–Ω—ë–Ω: order-123456
```
### 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–∫–∞–∑
–ß–µ—Ä–µ–∑ API:
```http
GET http://localhost:8080/order/order-123456
```
–û—Ç–≤–µ—Ç: JSON —Å –∑–∞–∫–∞–∑–æ–º.

–ß–µ—Ä–µ–∑ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü—É:
–û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ ‚Üí http://localhost:8080/
–í–≤–µ—Å—Ç–∏ OrderUID ‚Üí –ø–æ–ª—É—á–∏—Ç—å JSON.

### üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```bash
go-order-service/
‚îÇ‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ producer/        # Kafka Producer –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∑–∞–∫–∞–∑–æ–≤
‚îÇ‚îÄ‚îÄ db/
‚îÇ   ‚îú‚îÄ‚îÄ migrate.go       # SQL –º–∏–≥—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü)
‚îÇ   ‚îú‚îÄ‚îÄ db.go            # –õ–æ–≥–∏–∫–∞ —Ä–∞–±–æ—Ç—ã —Å PostgreSQL
‚îÇ   ‚îî‚îÄ‚îÄ models.go        # –ú–æ–¥–µ–ª–∏ –∑–∞–∫–∞–∑–æ–≤
‚îÇ‚îÄ‚îÄ cache/
‚îÇ   ‚îî‚îÄ‚îÄ cache.go         # In-memory –∫—ç—à –∑–∞–∫–∞–∑–æ–≤
‚îÇ‚îÄ‚îÄ docker-compose.yml   # –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (Postgres, Kafka, Zookeeper)
‚îÇ‚îÄ‚îÄ main.go              # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å (consumer + API + cache)

```
### ‚úÖ–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
–ü—Ä–∏—ë–º –∑–∞–∫–∞–∑–æ–≤ —á–µ—Ä–µ–∑ Kafka

–ó–∞–ø–∏—Å—å –∑–∞–∫–∞–∑–æ–≤ –≤ PostgreSQL

In-memory –∫—ç—à –¥–ª—è —É—Å–∫–æ—Ä–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–∞

REST API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞

HTML-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∑–∞–∫–∞–∑–∞
